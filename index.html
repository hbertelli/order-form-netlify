<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#2563eb">
  <title>OrÃ§amento â€” Wise Sales</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
  <header>
    <h1>ğŸ“‹ Revisar OrÃ§amento - DEV</h1>
    <div id="customer-info" style="margin: 16px 0;"></div>
    <p id="session-info"></p>
    <p id="order-preview" style="font-size: 14px; opacity: 0.9; margin: 8px 0 0;"></p>
  </header>

  <main>
    <div id="alert" class="alert"></div>

    <section id="items-section" class="card">
      <div class="card-header">
        <h2>ğŸ›’ Itens do OrÃ§amento</h2>
        <button id="add-product-btn" type="button" class="btn-add-product">âœš Adicionar Produto</button>
      </div>
      <div id="items-list"></div>
      <div class="empty" id="empty-hint" style="display:none;">
        <div style="font-size: 48px; margin-bottom: 16px;">ğŸ“¦</div>
        <p>Nenhum item encontrado no orÃ§amento</p>
        <small>Os itens aparecerÃ£o aqui quando adicionados</small>
      </div>
    </section>
    
    <div class="actions">
      <span>ğŸ’° Total: <strong id="order-total">R$ 0,00</strong></span>
      <div style="display: flex; gap: 12px;">
        <button id="main-add-product-btn" type="button">âœš <span class="btn-text">Adicionar</span></button>
        <button id="main-save-btn" type="button">ğŸ’¾ <span class="btn-text">Salvar</span></button>
        <button id="main-submit-btn" type="button">âœ… <span class="btn-text">Aprovar</span></button>
      </div>
    </div>
   
  </main>

  <!-- Modal de busca de produtos -->
  <div id="product-search-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>ğŸ” Buscar Produtos</h3>
        <button id="close-modal-btn" class="btn-close">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="search-container">
          <input type="text" id="product-search-input" placeholder="Digite o nome ou cÃ³digo do produto..." class="search-input">
          <button id="search-btn" type="button" class="btn-search">ğŸ” Buscar</button>
        </div>
        <div id="search-results" class="search-results"></div>
        <div id="search-loading" class="search-loading" style="display: none;">
          <div class="loading-spinner">ğŸ”„</div>
          <p>Buscando produtos...</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal de dados do aprovador -->
  <div id="approver-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>âœ… Confirmar AprovaÃ§Ã£o do OrÃ§amento</h3>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 24px; color: var(--gray-600); line-height: 1.6;">
          Para aprovar este orÃ§amento, precisamos confirmar seus dados de contato:
        </p>
        
        <form id="approver-form">
          <div class="form-group">
            <label for="approver-name">Nome Completo *</label>
            <input type="text" id="approver-name" name="name" required 
                   placeholder="Digite seu nome completo">
          </div>
          
          <div class="form-group">
            <label for="approver-phone">Telefone *</label>
            <input type="tel" id="approver-phone" name="phone" required 
                   placeholder="(11) 99999-9999">
          </div>
          
          <div class="form-group">
            <label for="approver-email">E-mail *</label>
            <input type="email" id="approver-email" name="email" required 
                   placeholder="seu@email.com">
          </div>
          
          <div class="form-actions">
            <button type="button" id="cancel-approval" class="btn-cancel">
              âŒ Cancelar
            </button>
            <button type="submit" id="confirm-approval" class="btn-confirm">
              âœ… Confirmar AprovaÃ§Ã£o
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer>
    <small>ğŸ”’ Link pessoal e temporÃ¡rio. NÃ£o compartilhe.</small>
  </footer>

  <script src="/config.js"></script>
  <script type="module" src="/app.js"></script>

  <div id="actions-bar" class="actions-bar">
    <div class="actions-inner">
      <div class="total">ğŸ’° Total: <strong id="footer-total">R$ 0,00</strong></div>
      <div class="buttons">
        <button id="footer-add-product-btn" type="button">
          âœš <span class="btn-text">Adicionar</span>
        </button>
        <button id="footer-save-btn" type="button">
          ğŸ’¾ <span class="btn-text">Salvar</span>
        </button>
        <button id="footer-submit-btn" type="button">âœ… <span class="btn-text">Aprovar</span></button>
      </div>
    </div>
  </div>

  
</body>
</html>
